[{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"load-library-and-data","dir":"Articles","previous_headings":"","what":"Load library and data","title":"Paper estimations","text":"","code":"library(RobustTSLS)  data('nak_out_data')"},{"path":[]},{"path":[]},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"drop-alaska","dir":"Articles","previous_headings":"Paper results > Sample without 3 states","what":"Drop Alaska","title":"Paper estimations","text":"","code":"Y_mat_or <- data_nak[[1]][-1,] W_mat_or <- data_nak[[2]][-1,] Z <- data_nak[[3]] start_year <- 1968 state_names <- data_nak[[4]][-1] T <- dim(W_mat_or)[2] T_0 <- 10"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"drop-mississipi-and-north-dakota","dir":"Articles","previous_headings":"Paper results > Sample without 3 states","what":"Drop Mississipi and North Dakota","title":"Paper estimations","text":"","code":"pi_unit <- W_mat_or%*%(Z-mean(Z)) / var_biased(Z)/T #calculate D_i index_sub <- pi_unit >= quantile(pi_unit, 0.04) & pi_unit <= quantile(pi_unit, 1)#drop inappropriate states robust_estimates <- robust_estimate(Y_mat_or, W_mat_or, Z, NULL, NULL, index_sub, T_0,                                     state_names, time_column = TRUE)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"figure-1","dir":"Articles","previous_headings":"Paper results > Sample without 3 states","what":"Figure 1","title":"Paper estimations","text":"","code":"pi_delta_scatterplot(robust_estimates)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"figure-2","dir":"Articles","previous_headings":"Paper results > Sample without 3 states","what":"Figure 2","title":"Paper estimations","text":"","code":"agg_ts_plot(robust_estimates, T_0, 1968)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"figure-3","dir":"Articles","previous_headings":"Paper results > Sample without 3 states","what":"Figure 3","title":"Paper estimations","text":"","code":"weights_scatterplot(robust_estimates)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"import-full-sample","dir":"Articles","previous_headings":"Paper results","what":"Import full sample","title":"Paper estimations","text":"","code":"Y_mat_or_full <- data_nak[[1]] W_mat_or_full <- data_nak[[2]] Z_full <- data_nak[[3]] start_year <- 1968 state_names_full <- data_nak[[4]] T <- dim(W_mat_or)[2] T_0 <- 10 robust_estimates_full_sample <- robust_estimate(Y_mat_or = Y_mat_or_full, W_mat_or = W_mat_or_full,                                      Z = Z_full,unit_covariates = NULL, time_covariates = NULL,                                     T_0 = T_0, unit_names = state_names_full, time_column = TRUE)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"figure-5","dir":"Articles","previous_headings":"Paper results > Import full sample","what":"Figure 5","title":"Paper estimations","text":"","code":"pi_delta_scatterplot(robust_estimates_full_sample)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"figure-6","dir":"Articles","previous_headings":"Paper results > Import full sample","what":"Figure 6","title":"Paper estimations","text":"","code":"agg_ts_plot(robust_estimates_full_sample, T_0, 1968)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_estimation_results.html","id":"figure-7","dir":"Articles","previous_headings":"Paper results > Import full sample","what":"Figure 7","title":"Paper estimations","text":"","code":"weights_scatterplot(robust_estimates_full_sample)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_simulations_results.html","id":"import-library-and-data","dir":"Articles","previous_headings":"","what":"Import library and data","title":"Paper simulations","text":"","code":"library(RobustTSLS) data('nak_out_data') Y_mat_or <- data_nak[[1]] W_mat_or <- data_nak[[2]] Z <- data_nak[[3]]"},{"path":[]},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_simulations_results.html","id":"figure-4","dir":"Articles","previous_headings":"Simulation results","what":"Figure 4","title":"Paper simulations","text":"","code":"tables <- simulations(Y_mat_or, W_mat_or, Z,             share_t = 1/3, share_rank = 1/3,             rho_agg = 0.5, rho_theta_w = 0.2, rho_theta_y = 0.3,             B = 1000, S = 300,             test = TRUE, return_table = TRUE,            K = 300, deg = 4, height = 9*0.75, width = 16*0.75,             save_pdf = FALSE, file_plot = 'density_plot',            draw_plot = TRUE,            save_sim = FALSE, file_sim = NULL,            seed = 1234);"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_simulations_results.html","id":"table-1","dir":"Articles","previous_headings":"Simulation results","what":"Table 1","title":"Paper simulations","text":"","code":"tables$performance_table #> % latex table generated in R 4.4.0 by xtable 1.8-4 package #> % Tue Apr 30 19:12:28 2024 #> \\begin{table}[ht] #> \\centering #> \\begin{tabular}{rrrrrrrrr} #>   \\hline #>  & RMSE & Bias & RMSE & Bias & RMSE & Bias & RMSE & Bias \\\\  #>   \\hline #> X & 0.01 & 0.00 & 0.04 & 0.00 & 0.05 & 0.04 & 0.17 & 0.13 \\\\  #>   X.1 & 0.01 & 0.00 & 0.05 & -0.00 & 0.28 & 0.24 & 0.24 & 0.21 \\\\  #>   X.2 & 0.06 & 0.00 & 0.31 & -0.03 & 0.11 & 0.07 & 0.41 & 0.26 \\\\  #>   X.3 & 0.05 & 0.00 & 0.39 & -0.02 & 0.79 & 0.69 & 0.75 & 0.57 \\\\  #>   X.4 & 0.06 & 0.00 & 0.38 & -0.02 & 0.07 & 0.02 & 0.34 & 0.08 \\\\  #>   X.5 & 0.05 & 0.00 & 0.49 & -0.01 & 0.36 & 0.31 & 0.55 & 0.31 \\\\  #>    \\hline #> \\end{tabular} #> \\end{table}"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_simulations_results.html","id":"table-2","dir":"Articles","previous_headings":"Simulation results","what":"Table 2","title":"Paper simulations","text":"","code":"tables$coverage_table #> % latex table generated in R 4.4.0 by xtable 1.8-4 package #> % Tue Apr 30 19:12:28 2024 #> \\begin{table}[ht] #> \\centering #> \\begin{tabular}{rrrrr} #>   \\hline #>  & 1 & 2 & 3 & 4 \\\\  #>   \\hline #> row\\_rob & 0.91 & 0.86 & 0.80 & 0.84 \\\\  #>   row\\_or & 0.90 & 0.85 & 0.33 & 0.81 \\\\  #>    \\hline #> \\end{tabular} #> \\end{table}"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_simulations_results.html","id":"alternative-setup","dir":"Articles","previous_headings":"Simulation results","what":"Alternative setup","title":"Paper simulations","text":"","code":"table_alternative <- simulations(Y_mat_or, W_mat_or, Z,               share_t = 1/3, share_rank = 1,               no_noise = TRUE, rho_agg = 0.5,               rho_theta_w = 0.2, rho_theta_y = 0.3,               B = 1000, S = 300,               test =  FALSE, return_table = TRUE,              K = 300, deg = 4, height = 9*0.75, width = 16*0.75,               save_pdf = FALSE, file_plot = NULL,              draw_plot = FALSE,              save_sim = FALSE, file_sim = NULL,              seed = 1234)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/articles/Paper_simulations_results.html","id":"table-3","dir":"Articles","previous_headings":"Simulation results","what":"Table 3","title":"Paper simulations","text":"","code":"table_alternative$performance_table #> % latex table generated in R 4.4.0 by xtable 1.8-4 package #> % Tue Apr 30 19:12:49 2024 #> \\begin{table}[ht] #> \\centering #> \\begin{tabular}{rrrrrrrrr} #>   \\hline #>  & RMSE & Bias & RMSE & Bias & RMSE & Bias & RMSE & Bias \\\\  #>   \\hline #> 1 & 0.00 & 0.00 & 0.04 & -0.00 & 0.04 & 0.03 & 0.17 & 0.13 \\\\  #>   2 & 0.00 & 0.00 & 0.05 & -0.00 & 0.29 & 0.25 & 0.25 & 0.20 \\\\  #>   3 & 0.00 & -0.00 & 0.29 & 0.02 & 0.05 & 0.04 & 0.40 & 0.26 \\\\  #>   4 & 0.00 & 0.00 & 0.36 & 0.02 & 0.80 & 0.70 & 0.75 & 0.57 \\\\  #>   5 & 0.00 & -0.00 & 0.35 & 0.02 & 0.02 & 0.00 & 0.33 & 0.09 \\\\  #>   6 & 0.00 & -0.00 & 0.45 & 0.03 & 0.34 & 0.31 & 0.57 & 0.30 \\\\  #>    \\hline #> \\end{tabular} #> \\end{table}"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dmitry Arkhangelsky. Maintainer.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Arkhangelsky D (2024). RobustTSLS: Robust estimator. R package version 0.0.1, https://antonzudin.github.io/Robust-TSLS-package/.","code":"@Manual{,   title = {RobustTSLS: Robust estimator},   author = {Dmitry Arkhangelsky},   year = {2024},   note = {R package version 0.0.1},   url = {https://antonzudin.github.io/Robust-TSLS-package/}, }"},{"path":[]},{"path":"https://antonzudin.github.io/Robust-TSLS-package/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Robust estimator","text":"current version package can installed source using devtools. online vignettes contains paper rusults functions documentation.","code":"devtools::install_github(\"AntonZudin/Robust-TSLS-package\")"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Robust estimator","text":"","code":"library(RobustTSLS)  data('nak_out_data') Y_mat_or <- data_nak[[1]][-1,] W_mat_or <- data_nak[[2]][-1,] Z <- data_nak[[3]] start_year <- 1968 state_names <- data_nak[[4]][-1] T <- dim(W_mat_or)[2] T_0 <- 10 estimate <- robust_estimate(Y_mat_or, W_mat_or, Z, NULL, NULL, index_sub, T_0,                                     state_names, time_column = TRUE)  tau.hat <- estimate$tau se <- estimate$se sprintf('robust estimator: %.2f, s.e.: %.2f,  95%% confidence interval: [%.2f, %.2f]',           tau.hat, se, tau.hat - 1.96*se, tau.hat + 1.96*se)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/index.html","id":"references","dir":"","previous_headings":"Example","what":"References","title":"Robust estimator","text":"Dmitry Arkhangelsky Vasily Korovkin. Policy Evaluation Aggregate Time-Series Shocks, 2024. [arxiv]","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/agg_ts_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw 2 time-series plots of aggregated data for original and robust weights. — agg_ts_plot","title":"Draw 2 time-series plots of aggregated data for original and robust weights. — agg_ts_plot","text":"Solid lines represent aggregated Y_t W_t. Dashed ones represent OLS predictions aggregate data instrument. Blue red dashed lines robust weights plot stand learning estimation periods respectively.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/agg_ts_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw 2 time-series plots of aggregated data for original and robust weights. — agg_ts_plot","text":"","code":"agg_ts_plot(   robust_estimate,   T_0,   start_year = 1,   save_pdf = FALSE,   file = \"time-series\",   height = 9,   width = 16 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/agg_ts_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw 2 time-series plots of aggregated data for original and robust weights. — agg_ts_plot","text":"robust_estimate object use building plot. T_0 number periods used constructing weights. start_year starting year plot's x-axis. save_pdf true, 2 time-series plots saved displayed. file save_pdf true, string giving file path (including file name). `_robust` `_original` added end file name Robust Original time-series respectively. height height plot. width width plot.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the necessary for the estimators. — basic_analysis","title":"Calculate the necessary for the estimators. — basic_analysis","text":"Calculate necessary estimators.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the necessary for the estimators. — basic_analysis","text":"","code":"basic_analysis(   Y_mat,   W_mat,   Z,   unit_covariates,   time_covariates,   add_const,   D,   T_0,   seed = 1234 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the necessary for the estimators. — basic_analysis","text":"Y_mat Y, nxT matrix outcome. W_mat W, nxT matrix endogenous treatment. Z Z, nx1 vector aggregate instrument. unit_covariates unit covariate(s). time_covariates time covariate(s). add_const true, add constant unit time covariate. D nx1 vector exposure. T_0 size learning period. seed seed set.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the necessary for the estimators. — basic_analysis","text":"list weights, coefficients, standard errors, delta pi aggregated W, Y (observed predicted).","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_simulation.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the necessary for one simulation. — basic_simulation","title":"Calculate the necessary for one simulation. — basic_simulation","text":"Calculate necessary one simulation.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_simulation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the necessary for one simulation. — basic_simulation","text":"","code":"basic_simulation(   F_mat_W,   L_mat_W,   F_mat_Y,   L_mat_Y,   cov_mat_fs,   cov_mat_rf,   pi_unit,   theta_w,   theta_y,   tau,   no_noise,   rho_agg,   rho_cross,   T_0,   Z_fit,   test = FALSE,   S = 300 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_simulation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the necessary for one simulation. — basic_simulation","text":"F_mat_W nxT two-way fixed effects matrix W (endogenous treatment). L_mat_W nxT generalized fixed effects (low-rank) matrix W (endogenous treatment). F_mat_Y nxT two-way fixed effects matrix Y (outcome). L_mat_Y nxT generalized fixed effects (low-rank) matrix Y (outcome). cov_mat_fs covarience matrix W (endogenous treatment) noise. cov_mat_rf covarience matrix part Y (outcome) noise. pi_unit nx1 vector exposure. theta_w exposure unobserved confounder W (endogenous treatment). theta_y exposure unobserved confounder Y (outcome). tau original point estimate tau. used data generation. no_noise true, noise added. add noise table 3. rho_agg share Z_t H_t generation. rho_cross share W (endogenous treatment) noise Y noise. T_0 size learning period. Z_fit fitted ARIMA model data Z (instrument). test true, compute tests coverage rates. S 'test' == TRUE, number simulations standard error estimation.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/basic_simulation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the necessary for one simulation. — basic_simulation","text":"list simulation results.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/cov_biased.html","id":null,"dir":"Reference","previous_headings":"","what":"Biased covarience. — cov_biased","title":"Biased covarience. — cov_biased","text":"denominator n.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/cov_biased.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Biased covarience. — cov_biased","text":"","code":"cov_biased(x, y)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/cov_biased.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Biased covarience. — cov_biased","text":"x numeric vector, matrix data frame. y `NULL` (default) vector, matrix data frame compatible dimensions x. default equivalent y = x (efficient).","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/data_preparation.html","id":null,"dir":"Reference","previous_headings":"","what":"Data preparation for simulations. — data_preparation","title":"Data preparation for simulations. — data_preparation","text":"Data preparation simulations.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/data_preparation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data preparation for simulations. — data_preparation","text":"","code":"data_preparation(data_mat, rank)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/data_preparation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data preparation for simulations. — data_preparation","text":"data_mat matrix. rank rank low-rank matrix approximation SVD.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/data_preparation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data preparation for simulations. — data_preparation","text":"list generalized fixed effects (low-rank matrix), two-way fixed effects matrix, residuals matrix, unit fixed effects factor loadings.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/density_function.html","id":null,"dir":"Reference","previous_headings":"","what":"Computations for density plots. — density_function","title":"Computations for density plots. — density_function","text":"Computations density plots.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/density_function.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computations for density plots. — density_function","text":"","code":"density_function(x, K, deg)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/density_function.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computations for density plots. — density_function","text":"x vector observed. K number domain splits. deg degrees freedom natural cubic splines.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/pi_delta_scatterplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw 2 scatterplots of reduced-form and first-stage coefficients for original and robust weights. — pi_delta_scatterplot","title":"Draw 2 scatterplots of reduced-form and first-stage coefficients for original and robust weights. — pi_delta_scatterplot","text":"Draw 2 scatterplots reduced-form first-stage coefficients original robust weights.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/pi_delta_scatterplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw 2 scatterplots of reduced-form and first-stage coefficients for original and robust weights. — pi_delta_scatterplot","text":"","code":"pi_delta_scatterplot(   robust_estimate,   save_pdf = FALSE,   file = \"nak_points\",   height = 9,   width = 9 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/pi_delta_scatterplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw 2 scatterplots of reduced-form and first-stage coefficients for original and robust weights. — pi_delta_scatterplot","text":"robust_estimate object use building plot. save_pdf True, 2 scatterplots saved displayed. file save_pdf true, string giving file path (including file name). `_robust` `_original` added end file name Robust Original time-series respectively. height height plot. width width plot.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/robust_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the robust estimator for tau. — robust_estimate","title":"Compute the robust estimator for tau. — robust_estimate","text":"Compute robust estimator tau.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/robust_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the robust estimator for tau. — robust_estimate","text":"","code":"robust_estimate(   Y_mat_or,   W_mat_or,   Z,   unit_covariates = NULL,   time_covariates = NULL,   index_sub = NULL,   T_0 = NULL,   unit_names = NULL,   time_column = TRUE,   seed = 1234 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/robust_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the robust estimator for tau. — robust_estimate","text":"Y_mat_or nxT matrix outcome. W_mat_or nxT matrix endogenous treatment. Z nx1 vector aggregate instrument. index_sub nx1 vector binary coordinates. one coordinates TRUE, include state estimation.NULL stands selecting units. T_0 size learning period. unit_names nx1 vector unit names. used plot_1 function. time_column true, units rows time periods columns Y_mat_or W_mat_or. seed seed set. D nx1 vector exposure.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/robust_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the robust estimator for tau. — robust_estimate","text":"robust estimator (S4 class) result, attached attribute. output basic_analysis function.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/sim_from_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Present the simulation results from simulation file. — sim_from_file","title":"Present the simulation results from simulation file. — sim_from_file","text":"Present simulation results simulation file.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/sim_from_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Present the simulation results from simulation file. — sim_from_file","text":"","code":"sim_from_file(   sim_file = \"simulation_result\",   plot_file = \"density_plot\",   K = 300,   deg = 4,   height = 9 * 0.75,   width = 16 * 0.75 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/sim_from_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Present the simulation results from simulation file. — sim_from_file","text":"sim_file String giving simulation file path (including file name). plot_file String giving plot file path (including file name). K number domain splits. used density plot. deg degrees freedom natural cubic splines. used density plot. height height plot. width width plot.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/simulations.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform the simulations and present the results. — simulations","title":"Perform the simulations and present the results. — simulations","text":"Perform simulations present results.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/simulations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform the simulations and present the results. — simulations","text":"","code":"simulations(   Y_mat_or,   W_mat_or,   Z,   share_t = 1/3,   share_rank = 1/3,   no_noise = FALSE,   rho_agg = 0.5,   rho_theta_w = 0.2,   rho_theta_y = 0.3,   B = 1000,   S = 300,   test = FALSE,   return_table = FALSE,   K = 300,   deg = 4,   height = 9 * 0.75,   width = 16 * 0.75,   save_pdf = FALSE,   file_plot = \"density_plot\",   draw_plot = TRUE,   save_sim = FALSE,   file_sim = \"simulation_result\",   seed = 1234 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/simulations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform the simulations and present the results. — simulations","text":"Y_mat_or nxT matrix outcome. W_mat_or nxT matrix endogenous treatment. Z n nx1 vector aggregate instrument. share_t share learning period. share_rank share rank generalized fixed effects matrix total rank. no_noise true, noise added. add noise table 3. rho_agg share Z_t H_t generation. rho_theta_w exposure W (endogenous treatment) unobserved confounder. rho_theta_y exposure Y (outcome) unobserved confounder. B number replications design simulation. S 'test' == TRUE, number simulations standard error estimation. test true, compute tests coverage rates. return_table true, instead printing table(s) function returns (). K number domain splits. used density plot. deg degrees freedom natural cubic splines. used density plot. height height plot. width width plot. save_pdf true, 2 density plots Original Robust estimators saved. file_plot save_pdf true, string giving file path (including file name). draw_plot draw_plot true save_pdf false, 2 density plots drawn one chart. save_sim true, function saves simulation. file_sim save_sim true, string giving file path (including file name). seed seed set.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/var_biased.html","id":null,"dir":"Reference","previous_headings":"","what":"Biased varience. — var_biased","title":"Biased varience. — var_biased","text":"denominator n.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/var_biased.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Biased varience. — var_biased","text":"","code":"var_biased(x)"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/var_biased.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Biased varience. — var_biased","text":"x numeric vector, matrix data frame.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_function.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the weights — weights_function","title":"Calculate the weights — weights_function","text":"Calculate weights","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_function.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the weights — weights_function","text":"","code":"weights_function(   Y_mat,   W_mat,   Z_agg,   D_unit,   unit_covariates = NULL,   time_covariates = NULL,   add_const = TRUE,   lambda = \"basic\" )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_function.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the weights — weights_function","text":"Y_mat nxT matrix outcome. W_mat nxT matrix endogenous treatment. Z_agg nx1 vector aggregate instrument. D_unit nx1 vector exposure. unit_covariates unit covariate(s). time_covariates time covariate(s). add_const true, add constant unit time covariate. lambda regularization hyperparameter.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_function.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the weights — weights_function","text":"list weights.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_scatterplot.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw a comparative scatterplot for original weights and robust weights. — weights_scatterplot","title":"Draw a comparative scatterplot for original weights and robust weights. — weights_scatterplot","text":"Draw comparative scatterplot original weights robust weights.","code":""},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_scatterplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw a comparative scatterplot for original weights and robust weights. — weights_scatterplot","text":"","code":"weights_scatterplot(   robust_estimate,   save_pdf = FALSE,   file = \"nak_weights\",   height = 9,   width = 9 )"},{"path":"https://antonzudin.github.io/Robust-TSLS-package/reference/weights_scatterplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw a comparative scatterplot for original weights and robust weights. — weights_scatterplot","text":"robust_estimate object use building plot. save_pdf True, scatterplot saved displayed. file save_pdf true, string giving file path (including file name). height height plot. width width plot.","code":""}]
